# Pr√ºfschritt 9.2.1.4 Tastatur-Kurzbefehle abschaltbar oder anpassbar

Tastatur-Kurzbefehle mit einzelnen Tasten d√ºrfen nicht ungewollt ausgel√∂st werden und m√ºssen anpassbar oder abschaltbar sein.

-   Alle Buchstaben-, Zahlen- und Symboltasten testen, ob sie Funktionen ausl√∂sen
-   Falls Einzeltasten Befehle ausl√∂sen, pr√ºfen, ob sie abgeschaltet oder auf Tastenkombinationen mit Modifikator-Tasten umgestellt werden k√∂nnen
-   Wenn Tastaturkurzbefehle nur aktiv sind, wenn ein bestimmtes `Interface`-Element den Fokus hat, ist das erlaubt

## WCAG

**Erfolgskriterium 2.1.4 ‚Äì Tastenkombinationen mit Zeichen (Level A)**

**Wenn eine Tastenkombination implementiert ist, die ausschlie√ülich aus Zeichen besteht** (z.‚ÄØB. Buchstaben, Satzzeichen, Zahlen oder Symbolen), dann muss mindestens eine der folgenden Bedingungen erf√ºllt sein: 
- **Deaktivierbar**: Es ist ein Mechanismus verf√ºgbar, um die Tastenkombination zu deaktivieren.
- **Umkonfigurierbar**: Es ist ein Mechanismus verf√ºgbar, um die Tastenkombination so umzubelegen, dass sie eine oder mehrere nicht druckbare Tasten (z.‚ÄØB. Ctrl, Alt) enth√§lt. 
- **Nur bei Fokus aktiv**: Die Tastenkombination ist nur aktiv, wenn die entsprechende Benutzeroberfl√§chenkomponente den Fokus hat. 

*Hinweis*: Dieses Erfolgskriterium zielt darauf ab, unbeabsichtigte Aktivierungen von Tastenkombinationen zu verhindern, insbesondere bei Nutzern von Spracherkennungssoftware oder bei Personen mit motorischen Einschr√§nkungen. Weitere Informationen finden Sie auf der offiziellen W3C-Seite: [Understanding Success Criterion 2.1.4: Character Key Shortcuts](https://www.w3.org/WAI/WCAG21/Understanding/character-key-shortcuts.html)

‚∏ª

üí° **Zielsetzung (Understanding)**

Dieses Erfolgskriterium soll sicherstellen, dass Tastenkombinationen, die ausschlie√ülich aus Zeichen bestehen, nicht unbeabsichtigt Funktionen ausl√∂sen. Dies ist besonders relevant f√ºr: 
- **Spracherkennungsnutzer**: Gesprochene W√∂rter k√∂nnen als einzelne Zeichen interpretiert werden, was unbeabsichtigte Aktionen ausl√∂sen kann.
- **Benutzer mit motorischen Einschr√§nkungen**: Unbeabsichtigte Tastenanschl√§ge k√∂nnen Funktionen ausl√∂sen, die nicht beabsichtigt waren.

Durch die Bereitstellung von Mechanismen zum Deaktivieren oder Umkonfigurieren solcher Tastenkombinationen wird die Benutzerfreundlichkeit und Zug√§nglichkeit verbessert.

‚∏ª

üõ†Ô∏è **Umsetzung (‚ÄûHow to Meet‚Äú)**

Um dieses Erfolgskriterium zu erf√ºllen, sollten Entwickler sicherstellen, dass:
- **Tastenkombinationen deaktiviert werden k√∂nnen**: Benutzer sollten die M√∂glichkeit haben, Tastenkombinationen auszuschalten. 
- **Tastenkombinationen umkonfiguriert werden k√∂nnen**: Benutzer sollten die M√∂glichkeit haben, Tastenkombinationen so umzubelegen, dass sie mindestens eine nicht druckbare Taste enthalten (z.‚ÄØB. Ctrl, Alt). 
- **Tastenkombinationen nur bei Fokus aktiv sind**: Tastenkombinationen sollten nur funktionieren, wenn die entsprechende Benutzeroberfl√§chenkomponente den Fokus hat. 

Beispiel f√ºr die Implementierung einer umkonfigurierbaren Tastenkombination:

document.addEventListener('keydown', function(event) {
  if (event.ctrlKey && event.key === 'S') {
    *// Speichern-Funktion ausf√ºhren*
    saveDocument();
  }
});

In diesem Beispiel wird die Speichern-Funktion nur ausgel√∂st, wenn die Tastenkombination Ctrl + S gedr√ºckt wird, wodurch unbeabsichtigte Aktivierungen durch einzelne Tastenanschl√§ge vermieden werden.

‚∏ª

‚úÖ **Vorteile**
- **Vermeidung unbeabsichtigter Aktionen**: Reduziert das Risiko, dass Funktionen durch versehentliche Tastenanschl√§ge oder Sprachbefehle ausgel√∂st werden.
- **Verbesserte Zug√§nglichkeit**: Erm√∂glicht es Benutzern, die Tastenkombinationen an ihre Bed√ºrfnisse anzupassen oder zu deaktivieren.
- **Konsistente Benutzererfahrung**: Stellt sicher, dass Tastenkombinationen nur dann aktiv sind, wenn sie sinnvoll und beabsichtigt sind.


## BITV Pr√ºfverfahren

### Was wird gepr√ºft?

Wenn Webseiten Tastaturkurzbefehle √ºber Einzeltasten (Buchstaben, Zahlen, Satzzeichen oder Symbole) implementieren, k√∂nnen diese entweder abgeschaltet oder auf eine Tastenkombination mit Modifikator-Tasten umgestellt werden, oder sie sind nur aktiv f√ºr bestimmte `Schnittstellen`-Elemente, wenn diese den Fokus haben.

### Warum wird das gepr√ºft?

Tastaturkurzbefehle sind f√ºr Menschen, die am Computer oder einem mobilen Ger√§t die Spracheingabe benutzen, h√§ufig problematisch. Spracheingaben k√∂nnen unerwartet Befehle f√ºr Funktionen ausl√∂sen, der Nutzungskontext geht dadurch verloren.

### Wie wird gepr√ºft?

### 1\. Anwendbarkeit des Pr√ºfschritts

Der Pr√ºfschritt ist immer anwendbar.

### 2\. Pr√ºfung

1.  Seite neu laden.
2.  Wenn dies den Fokus auf ein `Interface`-Element setzt (z. B. auf ein Eingabefeld), auf einen leeren Bereich der Seite klicken, um sicherzustellen, dass keine `Interface`-Elemente fokussiert sind.
3.  Mit Ausnahme der Modifikator- und Steuertasten wie STR, ALT, ENTER, Tab, Pfeiltasten und Funktionstasten F1-F12, nacheinander auf alle Tastaturtasten dr√ºcken, d. h. auf alle Nummern- Buchstaben-, Symbol- und Zeichensetzungs-Tasten.
4.  Die Umschalttaste halten und die gleichen Tasten erneut bet√§tigen.
5.  Falls einzelne Tasten Funktionen ausl√∂sen, pr√ºfen, ob die Website oder App Einstellungen bereith√§lt, um diese Tastaturkurzbefehle √ºber Einzeltasten abzuschalten oder auf Tastaturkurzbefehle mit einer Modifikator-Taste zu mappen.

### 3\. Hinweise

Die Anforderung gilt nicht, wenn die Tastaturkurzbefehle nur aktiv sind, sobald bestimmte `Interface`-Elemente den Fokus haben, etwa ein `Auswahllisten`-Element bzw. \`select\`Hier dient z. B. das Dr√ºcken einer Buchstabentaste zur schnellen Navigation innerhalb der Auswahllisten-Optionen.

√úber das Anzeigen von Seitenskripten und das Suchen nach typischen Tastatur-Event-Handlern wie `document.addEventListener` oder das Vorhandensein der `.keycode`\-Eigenschaft l√§sst sich ggf. das Vorhandensein von Skripten √ºberpr√ºfen, welche auf Tasteneingaben reagieren, bei denen nicht Modifikator-Tasten wie ALT oder STR gleichzeitig gedr√ºckt werden. Da es mehrere M√∂glichkeiten gibt, Tastatur-Events zu implementieren, ist diese Methode aber nicht als zuverl√§ssig zu betrachten.

Einige Browser verwenden Tastenkombinationen mit der Umschalttaste. So √∂ffnet Firefox eine Seitensuche, wenn man Umschalttaste + / dr√ºckt, und eine Suche in Seitenlinks, wenn man Umschalttaste + ' dr√ºckt. In diesen F√§llen ist es notwendig, die ESC-Taste zu dr√ºcken oder auf einen leeren Teil der Seite zu klicken, um den Fokus aus der Browser-Sucheingabe zu entfernen.

### 4\. Bewertung

#### Pr√ºfschritt erf√ºllt

-   Durch das Dr√ºcken der Tasten geschehen keinerlei √Ñnderungen des Inhalts oder des Kontexts.
-   Es gibt Tastatur-Kurzbefehle √ºber Einzeltasten, aber diese sind √ºber Einstellungen der Website oder App abschaltbar oder auf Tastenkombinationen mit Modifikator-Tasten umstellbar.
-   Tastaturkurzbefehle √ºber Einzeltasten sind nur wirksam, wenn bestimmte interaktive Elemente den Fokus haben (z.B. Auswahllisten).

### Einordnung des Pr√ºfschritts

#### Einordnung des Pr√ºfschritts nach WCAG 2.1

#### Guideline

-   [Guideline 2.1 Keyboard Accessible: Make all functionality available from `a` keyboard](https://www.w3.org/TR/WCAG21/#keyboard-accessible)

#### Success criterion

-   [2.1.4 Character Key Shortcuts](https://www.w3.org/TR/WCAG21/#character-key-shortcuts) (Level A)

#### Sufficient Techniques

-   [G217: Providing `a` mechanism to allow users to remap or turn off character key shortcuts](https://www.w3.org/WAI/WCAG21/Techniques/general/G217)

#### Failures

-   [F99: Failure of Success Criterion 2.1.4 due to implementing character key shortcuts that cannot be turned off or remapped](https://www.w3.org/WAI/WCAG21/Techniques/failures/F99)

## Quellen

-   [Bookmarklet "Tastatur-Kurzbefehle ausl√∂sen"](https://www.bitvtest.de/bitv_test/das_testverfahren_im_detail/werkzeugliste/bookmarklets.html) von Pr√ºfstelle T-Systems MMS kann ggf. zus√§tzlich eingesetzt werden, um der Reihe nach alle erforderlichen Tasten auszul√∂sen. Dabei muss die Seite genau beobachtet werden, ob sich etwas √§ndert bzw. ge√§ndert hat. Die Konsole der Entwickler-Tools zeigt die simulierten Eingaben.
-   [Understanding Success Criterion 2.1.4: Character Key Shortcuts](https://www.w3.org/WAI/WCAG21/Understanding/character-key-shortcuts.html) (zur Zeit nur auf Englisch verf√ºgbar)

### Fragen zu diesem Pr√ºfschritt

### Das eingebundene Video reagiert auf Tastaturkurzbefehle √ºber Einzeltasten, z.B: "k" zum Pausieren/Abspielen und "m" zum Stummschalten. Ist das als Versto√ü gegen 2.1.4 "Tastatur-Kurzbefehle abschaltbar oder anpassbar" zu werten?

Diese Tastaturkurzbefehle sind f√ºr Tastaturnutzer zweifellos hilfreich. Ob dadurch Nachteile f√ºr Spracheingabenutzer entstehen, versuchen wir zur Zeit zu kl√§ren. Noch offen ist, ob ein Video als [User Interface Component](https://www.w3.org/TR/WCAG21/#dfn-user-interface-components) im Sinne der normativen Anforderung interpretiert werden kann. Es gibt dazu [eine l√§ngere Diskussion in dem Github-Issue der Accessibility Guidelines Working Group](https://github.com/w3c/wcag/issues/1950). Solange diese Frage nicht klar entschieden ist, sollten Tastaturkurzbefehle auf fokussierten Videos nicht als Fehler bewertet werden.
