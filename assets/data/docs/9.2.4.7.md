# Pr√ºfschritt 9.2.4.7 Aktuelle Position des Fokus deutlich

Der Tastaturfokus muss f√ºr Nutzer deutlich sichtbar sein, entweder durch Standard-Browser-Hervorhebung oder eine eigene Gestaltung mit ausreichendem Kontrast.

-   Interaktive Elemente m√ºssen eine visuell erkennbare Fokusmarkierung haben
-   Falls die Fokushervorhebung nur √ºber Farbwechsel erfolgt, muss der Kontrast mindestens 3:1 betragen
-   Standard-Fokusrahmen darf nicht durch CSS oder Skripte unterdr√ºckt werden
-   Versteckte Sprunglinks m√ºssen bei Fokuserhalt sichtbar werden

## WCAG

**Erfolgskriterium 2.4.7 ‚Äì Fokus sichtbar (Level AA)**

**Jede √ºber die Tastatur bedienbare Benutzeroberfl√§che muss einen Modus bieten, in dem der Tastaturfokus sichtbar ist.**  

‚∏ª

üí° **Zielsetzung (Understanding)**

Dieses Erfolgskriterium soll sicherstellen, dass Benutzer erkennen k√∂nnen, welches Element den Tastaturfokus hat. Dies ist besonders wichtig f√ºr: 
- **Benutzer mit motorischen Einschr√§nkungen**, die auf Tastaturnavigation angewiesen sind.
- **Benutzer mit Sehbehinderungen**, die visuelle Hinweise ben√∂tigen, um den Fokus zu verfolgen.
- **Benutzer mit kognitiven Einschr√§nkungen**, die durch klare visuelle Indikatoren unterst√ºtzt werden.

Ein sichtbarer Fokusindikator hilft diesen Benutzern, sich auf der Seite zu orientieren und zu verstehen, welches Element gerade aktiv ist.  

‚∏ª

üõ†Ô∏è **Umsetzung (‚ÄûHow to Meet‚Äú)**

Um dieses Erfolgskriterium zu erf√ºllen, sollten Entwickler sicherstellen, dass:
- **Ein sichtbarer Fokusindikator** vorhanden ist, der anzeigt, welches Element den Tastaturfokus hat. 
- **Der Fokusindikator deutlich sichtbar** ist und sich vom Hintergrund abhebt.
- **Standardm√§√üige Fokusindikatoren** nicht entfernt werden, es sei denn, sie werden durch gleichwertige oder bessere Indikatoren ersetzt.
- **CSS** verwendet wird, um den Fokuszustand zu gestalten, z.‚ÄØB. durch :focus oder :focus-visible. 

Beispiel f√ºr einen benutzerdefinierten Fokusstil:

:focus-visible {
  outline: 3px solid #000;
  outline-offset: 2px;
}

In diesem Beispiel wird ein schwarzer Rahmen mit einem Abstand von 2 Pixeln um das fokussierte Element angezeigt, wenn es √ºber die Tastatur fokussiert wird.

‚∏ª

‚úÖ **Vorteile**
- **Verbesserte Zug√§nglichkeit**: Benutzer k√∂nnen den Fokus auf der Seite leichter verfolgen.
- **Erh√∂hte Benutzerfreundlichkeit**: Klare Fokusindikatoren verbessern die Navigation und Interaktion mit der Seite.
- **Konsistenz**: Einheitliche Fokusstile sorgen f√ºr ein vorhersehbares Verhalten auf der gesamten Website.


## BITV Pr√ºfverfahren

### Was wird gepr√ºft?

Der Tastaturfokus soll deutlich hervorgehoben werden. Wenn Autoren keine eigene Fokushervorhebung umsetzen, darf die Standardhervorhebung durch den Browser nicht √ºber CSS unterdr√ºckt werden. Der Kontrast der Fokushervorhebung (z.B. Fokusrahmen um Elemente, Unterstreichung, Farbumkehr) zum nicht-fokussierten Zustand muss mindestens 3:1 betragen.

Versteckte Sprunglinks sollen bei Fokuserhalt eingeblendet werden.

### Warum wird das gepr√ºft?

F√ºr Tastaturnutzende ist es wichtig, zu sehen, wo sich der Tastaturfokus gerade befindet, also welcher Link oder Schalter ausgel√∂st wird, wenn sie die Enter-Taste dr√ºcken, oder welches Eingabefeld oder andere Formularelement gerade den Fokus hat.

### Wie wird gepr√ºft?

### 1\. Anwendbarkeit des Pr√ºfschritts

Der Pr√ºfschritt ist anwendbar, wenn die Seite interaktive Elemente enth√§lt.

### 2\. Pr√ºfung

1.  Seite in Firefox laden.
2.  Alle Bedienelemente mit Tabulator durchlaufen und pr√ºfen, ob sie mit grafischen Ver√§nderungen auf den Fokus reagieren (zum Beispiel mit Farbwechseln, Unterstreichungen oder eingeblendeten Symbolen). Versteckte Sprunglinks sollen bei Fokuserhalt eingeblendet werden.
3.  Wenn die Fokushervorhebung ausschlie√ülich √ºber einen Farbwechsel geschieht, pr√ºfen, ob der Kontrastabstand zwischen fokussiertem und unfokussiertem Zustand mindestens 3:1 betr√§gt.
4.  Bei Links, die sich nicht grafisch ver√§ndern, pr√ºfen, ob sie auf den Mauszeiger reagieren.
5.  Wenn dies der Fall ist: Abbruch oder weiter mit 6.
6.  Wenn nur der Standard-Browser-Tastaturfokus (Systemkranz) erscheint, pr√ºfen, ob dieser an dieser vor gestalteten (also etwa √ºber CSS gef√§rbten) Hintergr√ºnden gut zu erkennen ist.
7.  In Zweifelsf√§llen gem√§√ü Pr√ºfschritt [9.1.4.11 Kontraste von Grafiken und grafischen Bedienelementen ausreichend](9.1.4.11 Kontraste von Grafiken und grafischen Bedienelementen ausreichend.html) bzw. [9.1.4.3 Kontraste von Texten ausreichend](9.1.4.3 Kontraste von Texten ausreichend.html) ermitteln, ob der Kontrastabstand zwischen Systemfokus und Hintergrund mindestens 3:1 betr√§gt.
8.  Seite im Chrome Browser laden und die Schritte 2-7 wiederholen.

### 3\. Hinweise

-   Die Pr√ºfung muss mit aktiviertem JavaScript erfolgen.
-   Der Pr√ºfschritt ist nicht erf√ºllt, wenn √ºberhaupt kein Tastaturfokus vorhanden ist, die Webseite also den browsereigenen Tastaturfokus (zum Beispiel mit JavaScript `blur()` oder CSS `outline:none`) unterdr√ºckt.
-   Grunds√§tzlich hat sich die Standard-Hervorhebung des Tastaturfokus im Browser bei fehlender Gestaltung durch Autoren in den letzten Jahren verbessert. Abh√§ngig von Betriebssystem und Browser, der Hintergrundfarbe und anderen Aspekten des Designs ist die Standard-Hervorhebung der Browser in manchen F√§llen jedoch nicht gut sichtbar. Eine gezielte Gestaltung in CSS, z.B. √ºber die `:focus` Pseudo-Klasse, stellt sicher, dass der Tastaturfokus immer gut sichtbar ist.

### 4\. Bewertung

#### Erf√ºllt

Die Fokussierung interaktiver Elemente ist visuell wahrnehmbar:

-   Rahmen, Unterstreichung, Farbumkehr, Form√§nderungen oder zus√§tzliche Markierungen werden bei Tastaturfokussierung eingesetzt.
-   Wenn die Fokussierung von Links oder Buttons nur √ºber die √Ñnderung der Text- oder Hintergrundfarbe vermittelt wird, betr√§gt deren Kontrastabstand zum unfokussierten Zustand mindestens 3:1.
-   Wenn nur der Standard-Browser-Tastaturfokus angezeigt wird, ist dieser vor gestalteten Hintergr√ºnden ausreichend sichtbar, er erf√ºllt den Pr√ºfschritt 9.1.4.11 "Kontraste von Grafiken und grafischen Bedienelementen ausreichend".

#### Nicht voll erf√ºllt

-   Sprunglinks bleiben bei Fokuserhalt versteckt.

#### Nicht erf√ºllt

Der Standard-Browser-Tastaturfokus wird unterdr√ºckt, bei Tastaturnutzung wird kein Fokus angezeigt.

### Einordnung des Pr√ºfschritts

### Bezug zu 1.4.11 Non-Text Contrast (Sichtbarkeit der Fokushervorhebung)

Der [Understanding-Text zur WCAG Anforderung 1.4.11 Non-Text Contrast](https://www.w3.org/WAI/WCAG21/Understanding/non-text-contrast.html) f√ºhrt im Abschnitt "Relationship with Use of Color and Focus Visible" aus:

> In combination with 2.4.7 Focus Visible, the visual focus indicator for `a` component must have sufficient contrast against the adjacent background when the component is focused, except where the appearance of the component is determined by the user agent and not modified by the author. If the focus state relies on `a` change of color (e.g., changing only the background color of `a` `button`), then changing from one color to another that has at least `a` 3:1 contrast ratio with the previous state of the control is `a` method for meeting the Focus visible criteria.

#### Einordnung des Pr√ºfschritts nach WCAG 2.1

#### Guideline

-   [Guideline 2.4 Navigable: Provide ways to help users navigate, find content, and determine where they are](https://www.w3.org/TR/WCAG21/#navigable)

#### Success criterion

-   [2.4.7 Focus Visible](https://www.w3.org/TR/WCAG21/#focus-visible) (Level AA)
-   [1.4.11 Non-Text Contrast](https://www.w3.org/TR/WCAG21/#non-text-contrast) (Level AA)

#### Techniques

##### General Techniques

-   [G149: Using user interface components that are highlighted by the user agent when they receive focus](https://www.w3.org/WAI/WCAG21/Techniques/general/G149.html)
-   [G165: Using the default focus indicator for the platform so that high visibility default focus indicators will carry over](https://www.w3.org/WAI/WCAG21/Techniques/general/G165.html)
-   [G195: Using an author-supplied, highly visible focus indicator](https://www.w3.org/WAI/WCAG21/Techniques/general/G195.html)

##### CSS Techniques

-   [C15: Using CSS to change the presentation of `a` user interface component when it receives focus](https://www.w3.org/WAI/WCAG21/Techniques/css/C15.html)

##### Client-side Scripting Techniques

-   [SCR31: Using script to change the background color or border of the element with focus](https://www.w3.org/WAI/WCAG21/Techniques/client-side-script/SCR31.html)

##### Failures

-   [F55: Failure of Success Criteria 2.1.1, 2.4.7, and 3.2.1 due to using script to remove focus when focus is received](https://www.w3.org/WAI/WCAG21/Techniques/failures/F55.html)
-   [F78: Failure of Success Criterion 2.4.7 due to styling element outlines and borders in `a` way that removes or renders non-visible the visual focus indicator](https://www.w3.org/WAI/WCAG21/Techniques/failures/F78.html)

### Fragen zu diesem Pr√ºfschritt

### Ist die Anzeige des Fokus nicht Sache des Browsers?

Alle Browser zeigen dem Tastaturnutzer in irgendeiner Weise, wo der Fokus ist, wenn diese Anzeige nicht aktiv unterdr√ºckt wird.

Dennoch ist die Anzeige des Fokus nicht allein Sache des Browsers. Die Webseite legt fest, wie sie im Browser aussehen soll. Sie √§ndert etwa die Farben fokussierter Links und Linkhintergr√ºnde oder setzt andere Gestaltungselemente ein. In dieser von der Webseite festgelegten Umgebung muss der Fokus f√ºr Tastaturnutzer gut sichtbar sein.
