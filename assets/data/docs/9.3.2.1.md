# Pr√ºfschritt 9.3.2.1 Keine unerwartete Kontext√§nderung bei Fokus

-   Der Fokus auf einem Element darf keine unerwartete √Ñnderung ausl√∂sen
-   Automatische Formular-√úbermittlungen oder Pop-ups beim Fokuserhalt sind problematisch
-   Neue Fenster d√ºrfen nicht direkt beim Laden der Seite ge√∂ffnet werden
-   Skriptgesteuerte modale Dialoge oder Tooltips gelten nicht als Kontext√§nderung
-   Test: Mit Tab durch die interaktiven Elemente navigieren und pr√ºfen, ob sich der Kontext ver√§ndert

## WCAG

**Erfolgskriterium 3.2.1 ‚Äì Bei Fokus (Level A)**

**Wortlaut:**
**Wenn eine Benutzeroberfl√§chenkomponente den Fokus erh√§lt, initiiert sie keine √Ñnderung des Kontexts.**

**Erkl√§rung:**
Wenn ein Element (z.‚ÄØB. ein Link, ein Formularfeld oder eine Schaltfl√§che) den Fokus bekommt, z.‚ÄØB. durch Tabben oder Anklicken, darf **dadurch alleine** *keine* Ver√§nderung des Kontexts auftreten.
Eine Ver√§nderung des Kontexts k√∂nnte sein:
- eine neue Seite √∂ffnet sich
- der Fokus springt woanders hin
- ein Formular wird abgeschickt
- ein neues Fenster oder Tab wird ge√∂ffnet

Nur eine bewusste Benutzeraktion (z.‚ÄØB. Klicken, Tippen, Enter-Taste dr√ºcken) darf eine Kontext√§nderung ausl√∂sen.

([Originalquelle auf W3C](https://www.w3.org/WAI/WCAG21/Understanding/on-focus.html?utm_source=chatgpt.com))

‚∏ª

üí° **Understanding (‚ÄúVerst√§ndnis‚Äù)**

Warum gibt es dieses Kriterium?
- Damit die Navigation **vorhersehbar** bleibt.
- Benutzer sollen nicht verwirrt oder √ºberrascht werden, wenn sie sich einfach durch eine Seite bewegen.
- Besonders wichtig f√ºr:
- **Screenreader-Nutzer**
- **Tastaturnutzer**
- **Menschen mit kognitiven Einschr√§nkungen**
- **Menschen mit motorischen Beeintr√§chtigungen**

Wenn sich beim blo√üen Fokussieren eines Elements der Kontext √§ndert, verlieren diese Nutzer oft den √úberblick oder die Kontrolle.

‚∏ª

üõ†Ô∏è **How to Meet (‚ÄúWie erf√ºllen‚Äù)**

So stellst du sicher, dass du das Erfolgskriterium einh√§ltst:
- Keine Formular√ºbermittlung beim Fokussieren eines Feldes.
- Keine Navigation beim blo√üen Fokus auf einen Link.
- Keine neuen Fenster oder Tabs durch Fokus alleine.
- Kontext√§nderungen nur durch **explizite Benutzeraktionen** ausl√∂sen, wie:
- Klicken
- Antippen
- Enter-Taste dr√ºcken

**Typische technische Umsetzung:**
- Dropdown-Men√ºs (``<select>``) d√ºrfen nicht bei onfocus eine Aktion ausl√∂sen, sondern erst bei onchange (nach Auswahl).
- Kein automatischer location.href-Wechsel beim Fokussieren.

**Beispiel:**

`<select `onchange="location.href=this.value;"`>`
  `<option `value="seite1.html"`>`Seite 1`</option>`
  `<option `value="seite2.html"`>`Seite 2`</option>`
`</select>`

‚Üí Hier wird die Navigation erst ausgel√∂st, **wenn der Benutzer aktiv eine Auswahl trifft**.

‚∏ª

‚úÖ **Vorteile**
- Benutzer verlieren nicht den √úberblick.
- Bessere Kontrolle √ºber die Navigation.
- Besonders hilfreich f√ºr Benutzer mit assistiven Technologien (z.‚ÄØB. Screenreader, Spezialtastaturen).
- Erh√∂ht die generelle **Usability** f√ºr alle.


## BITV Pr√ºfverfahren

## Was wrd gepr√ºft?

Wenn irgendeine Komponente der Seite den Fokus erh√§lt, soll dies nicht zu einer unerwarteten Kontext√§nderung f√ºhren.

### Warum wird das gepr√ºft?

Unerwartete und unangek√ºndigte Kontext√§nderungen bei Fokussierung einer Komponente (z. B. das automatische Abschicken von Formularen), kann die Orientierung von Nutzenden beeintr√§chtigen. Kontext√§nderungen auf der Seite selbst k√∂nnen Nutzende ablenken und verwirren oder auch unbemerkt bleiben und dadurch f√ºr Verwirrung sorgen. Sie sollten deshalb erwartet und klar nachvollziehbar sein.

Das √ñffnen neuer Fenster bei Fokussierung einer Komponente oder beim Laden einer Seite kann die Orientierung der Nutzenden ebenfalls beeintr√§chtigen. Das gilt ganz besonders f√ºr blinde und sehbehinderte Nutzende. Sie bemerken m√∂glicherweise nicht, dass sich der Kontext ge√§ndert hat. Wenn das neue Fenster den Fokus erh√§lt, funktioniert der Zur√ºck-Button des Browsers nicht mehr. Der √úberblick kann verloren gehen, m√∂glicherweise wird dann versehentlich das falsche Fenster (mit der Historie der bislang besuchten Seiten) geschlossen.

### Wie wird gepr√ºft?

### 1\. Anwendbarkeit des Pr√ºfschritts

Der Pr√ºfschritt ist anwendbar, wenn der Webauftritt interaktive Elemente enth√§lt.

### 2\. Pr√ºfung

1.  Seite im [Firefox](https://www.bitvtest.de/bitv_test/das_testverfahren_im_detail/werkzeugliste.html#firefox) aufrufen. Das Laden der Seite sollte kein neues Fenster √∂ffnen.
2.  Mit der Tabulatortaste die Links und Formularelemente durchgehen.
3.  Der Fokuserhalt soll keine automatischen Kontext√§nderungen (etwa Pop-up-Fenster oder automatisches Abschicken von Formularen) ausl√∂sen.

### 3\. Hinweise

Der Pr√ºfschritt bezieht sich nur auf neue Browserfenster, nicht auf skriptgesteuerte `Seiten`-Elemente, die den Inhalt √ºberlagern (Stichwort modaler Dialog).

Das √ñffnen von Custom Tooltips, also nicht modalen Fenstern, die sich beim Weitertabben oder Mausklick selbst√§ndig schlie√üen, gilt dabei nicht als Kontext√§nderung.

### Einordnung des Pr√ºfschritts

#### Einordnung des Pr√ºfschritts nach WCAG 2.1

#### Guideline

-   [Guideline 3.2 Predictable: Make Web pages appear and operate in predictable ways.](https://www.w3.org/TR/WCAG21/#predictable)

#### Success criterion

-   [3.2.1 On Focus](https://www.w3.org/TR/WCAG21/#on-focus) (Level A)

#### Techniques

##### General Techniques

-   [G107: Using "activate" rather than "focus" as `a` trigger for changes of context](https://www.w3.org/WAI/WCAG21/Techniques/general/G107.html)

##### Advisory Techniques

-   [G200: Opening new windows and tabs from `a` link only when necessary](https://www.w3.org/WAI/WCAG21/Techniques/general/G200.html)
-   [G201: Giving users advanced warning when opening `a` new window](https://www.w3.org/WAI/WCAG21/Techniques/general/G201.html)

##### Failures

-   [F52: Failure of Success Criterion 3.2.1 due to opening `a` new window as soon as `a` new page is loaded](https://www.w3.org/WAI/WCAG21/Techniques/failures/F52.html)

### Fragen zu diesem Pr√ºfschritt

### Der Pr√ºfschritt bezieht sich nur auf das √ñffnen neuer Fenster beim Laden der Seite, erlaubt die BITV 2.0 jetzt das unangek√ºndigte √ñffnen von neuen Fenstern √ºber Links?

Die WCAG empfehlen in den _Advisory Techniques_ [G200](https://www.w3.org/WAI/WCAG21/Techniques/general/G200.html) und [G201](https://www.w3.org/WAI/WCAG21/Techniques/general/G201.html), das √ñffnen neuer Fenster auf F√§lle zu beschr√§nken, in denen das aus einer Zug√§nglichkeitsperspektive sinnvoll ist und Benutzer zuvor √ºber das √ñffnen eines neuen Fensters zu informieren (etwa als Teil des Links, der das Fenster √∂ffnet).

Das unangek√ºndigte √ñffnen neuer Fenster bei der Aktivierung von Links wird jedoch grunds√§tzlich akzeptiert. Dies ist dadurch gerechtfertigt, das moderne Benutzeragenten Einstellungsm√∂glichkeiten f√ºr den Umgang mit automatisch √∂ffnenden Fenstern bieten. In den meisten aktuellen Browser-Versionen l√§sst sich inzwischen festlegen, ob neue Fenster also zus√§tzliches Browser-Fenster oder in einem Tab (Registrierkarte) ge√∂ffnet werden sollen oder ob unangek√ºndigte Fenster grunds√§tzlich unterdr√ºckt werden sollen (Stichwort Popup-Blocker). Einige Browser (Firefox) erlauben auch die Festlegung, ob neue Tabs im Vordergrund ge√∂ffnet werden sollen (also den Fokus erhalten sollen) oder nicht.
