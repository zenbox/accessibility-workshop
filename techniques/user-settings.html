<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
        />
        <title>Benutzer-Einstellungen</title>
        <link
            rel="stylesheet"
            href="../assets/css/style.css"
        />
    </head>
    <body>
        <header>
            <h1>Einstellungen des Benutzers berücksichtigen</h1>
            <p>
                Der Benutzer kann, zum Beipiel über die Bedienungshilfen seines
                Betriebssystems verschiedene Einstellungen vorgegeben haben. Die
                Webseite sollte darauf reagieren oder sie mindestens nicht
                blockieren. Die Einstellungen können über
                <code>mediaqueries</code> angesprochen werden.
            </p>

            <ul>
                <li>prefers-reduced-motion</li>
                <li>prefers-contrast</li>
                <li>prefers-color-scheme</li>
                <li>forced-colors</li>
                <li>prefers-reduced-data</li>
                <li>prefers-reduced-transparency</li>
                <li>inverted-colors</li>
            </ul>

            <p>
                Unter Windows und MacOS können die Anzeigeeinstellungen über die
                Bedieungshilfen eingstellt werden, es gibt allerdngs
                Unterschiede zwischen den Betriebsysteme. Viele Einstellungen
                wie zum Beispiel <code>forced-color</code> können in Chrome und
                Edge über <kbd>Entwicklertools</kbd> -
                <kbd>Weitere Tools</kbd> - <kbd>Rendering</kbd> emuliert werden.
            </p>

            <p>
                <a href="https://drafts.csswg.org/mediaqueries-5/"
                    >Zum aktuellen Entwurf 5 der Mediaqueries</a
                >.
            </p>
        </header>

        <article>
            <style>
                :root {
                    /* Grundfarben */
                    --background: hsla(0, 0%, 100%, 1);
                    --surface: hsla(0, 0%, 97%, 1);
                    --text-primary: hsla(0, 0%, 15%, 1);
                    --text-secondary: hsla(0, 0%, 40%, 1);
                    --border-color: hsla(0, 0%, 80%, 1);

                    /* Primärfarbe mit RGB-Variante für Transparenz */
                    --primary: hsla(300, 93%, 12%, 1);
                    --primary-rgb: 31, 2, 31;
                    --on-primary: rgb(250, 204, 250);

                    /* Weitere Farben */
                    --secondary: hsla(120, 94%, 33%, 1);
                    --on-secondary: rgb(200, 250, 200);
                    --tertiary: hsla(174, 90%, 37%, 1);
                    --on-tertiary: rgb(2, 47, 43);

                    /* UI-Elemente */
                    --shadow-light: hsla(0, 0%, 0%, 0.1);
                    --shadow: hsla(0, 0%, 0%, 0.25);

                    /* Transition und Animation */
                    --transition-speed: 0.2s;
                    --animation-scale: 1;

                    /* Media-Handling */
                    --media-transparency: 1;

                    /* Links */
                    --link-color: hsla(210, 100%, 50%, 1);
                    --link-visited: hsla(270, 70%, 40%, 1);
                    --link-hover: hsla(0, 100%, 50%, 1);
                    --link-active: hsla(120, 100%, 30%, 1);
                }
            </style>
            <div class="container">
                <div class="preferences-panel">
                    <h2 class="preferences-title">Darstellungspräferenzen</h2>

                    <div class="preference-group">
                        <h3 class="preference-group-title">Farbe & Kontrast</h3>

                        <div class="preference-item">
                            <label class="switch">
                                <input
                                    type="checkbox"
                                    id="toggle-darkMode"
                                />
                                <span class="slider"></span>
                            </label>
                            <label
                                class="preference-label"
                                for="toggle-darkMode"
                                >Dunkler Modus</label
                            >
                            <div class="preference-description">
                                Zeigt Inhalte mit dunklem Hintergrund und hellem
                                Text an.
                            </div>
                        </div>

                        <div class="preference-item">
                            <label class="switch">
                                <input
                                    type="checkbox"
                                    id="toggle-highContrast"
                                />
                                <span class="slider"></span>
                            </label>
                            <label
                                class="preference-label"
                                for="toggle-highContrast"
                                >Hoher Kontrast</label
                            >
                            <div class="preference-description">
                                Maximiert den Kontrast für bessere Lesbarkeit.
                            </div>
                        </div>

                        <div class="preference-item">
                            <label class="switch">
                                <input
                                    type="checkbox"
                                    id="toggle-invertedColors"
                                />
                                <span class="slider"></span>
                            </label>
                            <label
                                class="preference-label"
                                for="toggle-invertedColors"
                                >Farben invertieren</label
                            >
                            <div class="preference-description">
                                Kehrt alle Farben um.
                            </div>
                        </div>

                        <div class="preference-item">
                            <label class="switch">
                                <input
                                    type="checkbox"
                                    id="toggle-forcedColors"
                                />
                                <span class="slider"></span>
                            </label>
                            <label
                                class="preference-label"
                                for="toggle-forcedColors"
                                >Erzwungene Farben</label
                            >
                            <div class="preference-description">
                                Verwendet Systemfarben für maximale
                                Kompatibilität.
                            </div>
                        </div>
                    </div>

                    <div class="preference-group">
                        <h3 class="preference-group-title">
                            Bewegung & Animation
                        </h3>

                        <div class="preference-item">
                            <label class="switch">
                                <input
                                    type="checkbox"
                                    id="toggle-reducedMotion"
                                />
                                <span class="slider"></span>
                            </label>
                            <label
                                class="preference-label"
                                for="toggle-reducedMotion"
                                >Reduzierte Bewegung</label
                            >
                            <div class="preference-description">
                                Minimiert oder entfernt Animationen und
                                Bewegungen.
                            </div>
                        </div>
                    </div>

                    <div class="preference-group">
                        <h3 class="preference-group-title">Leistung & Daten</h3>

                        <div class="preference-item">
                            <label class="switch">
                                <input
                                    type="checkbox"
                                    id="toggle-reducedData"
                                />
                                <span class="slider"></span>
                            </label>
                            <label
                                class="preference-label"
                                for="toggle-reducedData"
                                >Reduzierte Datennutzung</label
                            >
                            <div class="preference-description">
                                Optimiert die Inhalte für geringeren
                                Datenverbrauch.
                            </div>
                        </div>

                        <div class="preference-item">
                            <label class="switch">
                                <input
                                    type="checkbox"
                                    id="toggle-reducedTransparency"
                                />
                                <span class="slider"></span>
                            </label>
                            <label
                                class="preference-label"
                                for="toggle-reducedTransparency"
                                >Reduzierte Transparenz</label
                            >
                            <div class="preference-description">
                                Entfernt Transparenzeffekte für bessere
                                Lesbarkeit und Performance.
                            </div>
                        </div>
                    </div>

                    <div class="preference-actions">
                        <button
                            id="reset-preferences"
                            class="button"
                        >
                            Einstellungen zurücksetzen
                        </button>
                    </div>
                </div>

                <div class="content">
                    <h2>Vorschau der Einstellungen</h2>
                    <p>
                        Diese Seite zeigt, wie sich Ihre Präferenzeinstellungen
                        auf die Darstellung auswirken.
                    </p>

                    <!-- Beispiele für verschiedene Darstellungen -->
                    <div class="example-area">
                        <h3>Farbbeispiele</h3>
                        <div class="color-samples">
                            <div class="color-sample bg-primary">Primär</div>
                            <div class="color-sample bg-secondary">
                                Sekundär
                            </div>
                            <div class="color-sample bg-tertiary">Tertiär</div>
                            <div class="color-sample bg-info">Info</div>
                            <div class="color-sample bg-warning">Warnung</div>
                            <div class="color-sample bg-error">Fehler</div>
                        </div>

                        <h3>Linkbeispiele</h3>
                        <p>
                            Hier sind verschiedene
                            <a href="#">unbesuchte Links</a> und
                            <a
                                href="#"
                                style="color: var(--link-visited)"
                                >besuchte Links</a
                            >. Links können auch
                            <a
                                href="#"
                                style="color: var(--link-hover)"
                                >hervorgehoben</a
                            >
                            sein oder
                            <a
                                href="#"
                                style="color: var(--link-active)"
                                >aktiv</a
                            >
                            dargestellt werden.
                        </p>

                        <h3>Animationsbeispiel</h3>
                        <div class="animation-example"></div>

                        <h3>Transparenzbeispiel</h3>
                        <div class="transparency-example">
                            <div class="transparency-overlay">
                                Text über Hintergrund
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </article>

        <article>
            <h2 class="prefers-reduced-motion">prefers-reduced-motion</h2>
            <p>
                Das Merkmal <code>prefers-reduced-motion</code> (bevorzugt
                weniger Bewegung) erkennt, ob der Nutzer eine Seite mit allen
                Animationen und Bewegungen sehen oder eine ruhigere Darstellung
                wünscht. Das kann zum Beispiel bei Menschen mit Vestibulärer
                Migräne oder Epilepsie der Fall sein.
            </p>

            <p>
                Der Benutzer kann diese Präferenz über eine Einstellung im
                Betriebssystem oder im User-Agent angeben.
            </p>

            <ul>
                <li>
                    unter Windows 10: <kbd>Einstellungen</kbd> →
                    <kbd>Erleichterte Bedienung</kbd> → <kbd>Anzeige</kbd> →
                    <kbd>Animationen in Windows anzeigen</kbd>
                </li>
                <li>
                    in Android: <kbd>Einstellungen</kbd> →
                    <kbd>Bedienungshilfen</kbd> →
                    <kbd>Animationen entfernen</kbd>
                </li>
                <li>
                    Apple iPad: <kbd>Einstellungen</kbd> →
                    <kbd>Bedienungshilfen</kbd> →
                    <kbd>Bewegung</kbd>
                </li>
                <li>
                    Apple: <kbd>Systemeinstellungen</kbd> →
                    <kbd>Bedienungshilfen</kbd> → <kbd>Anzeige</kbd> →
                    <kbd>Bewegung reduzieren</kbd>
                </li>
                <li>
                    In Firefox <kbd>about:config:</kbd> Füge eine
                    Binär-Präferenz ("Number") namens
                    <code>ui.prefersReducedMotion</code> hinzu und setze deren
                    Wert auf 1. Änderung an dieser Präferenz werden sofort
                    übernommen. Als abgefragten Wert kannst du eines der
                    Schlüsselwörter <code>reduce</code> oder
                    <code>no-preference</code> verwenden.
                </li>
            </ul>

            <samp>
                <pre><code>@media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
            scroll-behavior: auto !important;
            animation-duration: .01s !important;
            transition-duration: .01s !important;
        }
    }</code></pre>
            </samp>

            <p>
                Dieses Beispiel von der Webseite heise.de setzt das
                <code>scroll-behavior</code> auf <code>auto</code>, damit ein
                Scrollen unterbunden wird. Animationen und Transitionen erhalten
                eine Dauer von 0.01s - sie werden dadurch nicht mehr sichtbar,
                sind aber noch vorhanden für den Fall dass ein JavaScript auf
                dieses Event zurückgreift.
            </p>
        </article>

        <div class="parallax">
            <section class="teaser-1 section">
                <h1 tabindex="0">eins</h1>
                <p>zwei</p>
                <p>drei</p>
                <p>vier</p>
            </section>

            <section
                class="teaser-2 section"
                section
            >
                <h2 tabindex="0">eins</h2>
                <p>zwei</p>
                <p>drei</p>
                <p>vier</p>
            </section>

            <section class="teaser-3 section">
                <h2 tabindex="0">eins</h2>
                <p>zwei</p>
                <p>drei</p>
                <p>vier</p>
            </section>
        </div>

        <article>
            <h2 class="prefers-contrast">prefers-contrast</h2>
            <p>
                Das Medienmerkmal prefers-contrast wird verwendet, um zu
                erkennen, ob der Benutzer angefordert hat, dass der Webinhalt
                mit einem höheren (oder niedrigeren) Kontrast dargestellt wird.
                Das kann zum Beispiel bei Menschen mit Sehschwäche oder
                Farbenblindheit der Fall sein.
            </p>

            <p>Die abfragbaren Wert sind:</p>

            <ul>
                <li>no-preference - keine Voreinstellung</li>
                <li>less - der Benutzer wünscht geringeren Kontrast</li>
                <li>more - der Benutzer wünscht stärkeren Kontrast</li>
                <li>
                    custom - der Benutzer hat ein bestimmtes Farbschema
                    ausgewählt, das sich aber nicht als geringerer oder
                    stärkerer Kontrast ausdrücken lässt.
                </li>
            </ul>

            <samp>
                <code>
                    <pre>
@media (prefers-contrast: no-preference) {
          html {
            background-color: #eee;
          	color: #333;
          }
        }
        
        @media (prefers-contrast: more) {
          html {
            background-color: white;
          	color: #000;
          }
        }</pre
                    >
                </code>
            </samp>
        </article>

        <!-- <article>
            <h2 class="prefers-color-scheme">prefers-color-scheme</h2>
        </article> -->

        <article>
            <h2 class="forced-color">forced-color</h2>
            <p>
                Das Medienmerkmal <code>forced-color</code> ermittelt, ob der
                Browser feste Farben erzwingt. Werte sind <code>none</code> und
                <code>active</code>.
            </p>

            <samp>
                <code>
                    <pre>
.button {
  border: 0;
  padding: 10px;
  box-shadow: -2px -2px 5px gray, 2px 2px 5px gray;
}

@media (forced-colors: active) {
  .button {
    /* Use a border instead, since box-shadow is forced to 'none' in forced-colors mode */
    border: 2px ButtonText solid;
  }
}</pre
                    >
                </code></samp
            >

            <p>
                Falls dies so eingestellt ist, werden für folgende Eigenschaften
                Systemfarben verwendet:
            </p>
            <p>
                color, background-color, text-decoration-color,
                text-emphasis-color, border-color, outline-color,
                column-rule-color, -webkit-tap-highlight-color, SVG fill, SVG
                stroke
            </p>

            <p>Folgende Eigenschaften erhalten fest eingestellte Werte:</p>

            <ul>
                <li>box-shadow: 'none'</li>
                <li>text-shadow: 'none'</li>
                <li>background-image: 'none', außer bei festen URL-Angaben</li>
                <li>color-scheme: 'light dark'</li>
                <li>scrollbar-color: 'auto'</li>
            </ul>

            <p>
                <a
                    href="https://polypane.app/blog/forced-colors-explained-a-practical-guide/"
                    >Forced colors explained: A practical guide</a
                >
            </p>
        </article>
        <!-- <article>
            <h2 class="prefers-reduced-data">prefers-reduced-data</h2>
        </article> -->
        <!-- <article>
            <h2 class="prefers-reduced-transparency">
                prefers-reduced-transparency
            </h2>
        </article> -->
        <!-- <article>
            <h2 class="inverted-color">inverted-color</h2>
        </article> -->

        <!-- <article>
    <h2>Die Bedienerhilfen von MacOS</h2>
    <p>Die Bedienungshilfen von MacOS können über die Systemeinstellungen aufgerufen werden. Hier können verschiedene Einstellungen vorgenommen werden, die auch von Webseiten berücksichtigt werden können.</p>
    <ul>
        <li>Sehen <ul>
            <li>Farben umkehren</li>
            <li>Modus mit umgekehrten Farben</li>
            <li>Bewegung reduzieren</li>
            <li>Flackerndes Licht dimmen</li>
            <li>Kontrast erhöhen</li>
            <li>Transparenz reduzieren</li>
            <li>Ohne Farben differenzieren</li>
            <li>Animierte Bilder automatisch wiedergeben</li>
            <li>Fenstertitelsymbole anzeigen</li>
            <li>Tastenformen der Symbolleiste anzeigen</li>
            <li>Displaykontrast (über Schieberegler einstellbar)</li>
            <li>Text
                <ul>
                    <li>Textgröße</li>
                    <li>Größe der Menüleiste</li>
                    <li>Horizontalen Text bevorzugen</li>
                </ul>
                <li>Zeiger <ul>
                    <li>Zeigergröße</li>
                    <li>Zeigerrandfarbe</li>
                    <li>Zeigerfüllfarbe</li>
                </ul></li>
            </li>
            <li>Farbfilter <ul>
                <li>Farbfilter</li>
                <li>Filtertyp</li>
                <li>Intensität</li>
            </ul></li>
        </ul></li>
    </ul>
</article> -->

        <!-- <script src="assets/js/parallax.js"></script> -->
        <script src="../assets/js/scaffold.js"></script>
        <script src="../assets/js/preference-manager.js"></script>
    </body>
</html>
