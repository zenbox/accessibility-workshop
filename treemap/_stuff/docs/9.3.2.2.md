# Pr√ºfschritt 9.3.2.2 Keine unerwartete Kontext√§nderung bei Eingabe

-   Formulareingaben d√ºrfen keine unerwarteten Kontext√§nderungen ausl√∂sen
-   Automatisches Absenden oder das √ñffnen neuer Fenster bei Eingabe√§nderungen ist problematisch
-   Dynamische √Ñnderungen m√ºssen nachvollziehbar und unterhalb des ausl√∂senden Elements erfolgen
-   Der Fokus darf sich durch √Ñnderungen nicht unerwartet verschieben
-   Test: Formularelemente durchgehen und pr√ºfen, ob Eingaben ohne Vorwarnung den Kontext √§ndern

## WCAG

**Erfolgskriterium 3.2.2 ‚Äì Bei Eingabe (Level A)**

**Das √Ñndern der Einstellung eines beliebigen Benutzerschnittstellenkomponenten verursacht nicht automatisch eine Kontext√§nderung, es sei denn, der Benutzer wurde vor der Verwendung der Komponente √ºber dieses Verhalten informiert.** 

Dieses Kriterium stellt sicher, dass Benutzer nicht durch unerwartete √Ñnderungen des Kontexts √ºberrascht werden, wenn sie Eingaben in Formularfelder oder andere Steuerelemente vornehmen. Eine Kontext√§nderung kann beispielsweise das √ñffnen eines neuen Fensters, das automatische Absenden eines Formulars oder das Verschieben des Fokus auf ein anderes Element sein. Solche √Ñnderungen sollten nur erfolgen, wenn der Benutzer zuvor dar√ºber informiert wurde.  

‚∏ª

üí° **Zielsetzung (Understanding)**

Das Ziel dieses Erfolgskriteriums ist es, sicherzustellen, dass das Eingeben von Daten oder das Ausw√§hlen eines Formularsteuerelements vorhersehbare Auswirkungen hat. Das √Ñndern der Einstellung einer Benutzerschnittstellenkomponente bedeutet, einen Aspekt der Steuerung zu √§ndern, der bestehen bleibt, wenn der Benutzer nicht mehr mit ihr interagiert. Das Aktivieren eines Links oder einer Schaltfl√§che stellt keine √Ñnderung der Einstellung dar.  

Unerwartete Kontext√§nderungen k√∂nnen Benutzer verwirren, insbesondere solche mit Sehbehinderungen oder kognitiven Einschr√§nkungen, die √Ñnderungen m√∂glicherweise nicht leicht wahrnehmen oder leicht abgelenkt werden. Kontext√§nderungen sind nur angemessen, wenn klar ist, dass eine solche √Ñnderung als Reaktion auf die Aktion des Benutzers erfolgen wird. 

‚∏ª

üõ†Ô∏è **Umsetzung (‚ÄûHow to Meet‚Äú)**

Um dieses Erfolgskriterium zu erf√ºllen, sollten Entwickler sicherstellen, dass:
- **Eingaben in Formularfelder oder andere Steuerelemente nicht automatisch zu Kontext√§nderungen f√ºhren**, es sei denn, der Benutzer wurde zuvor dar√ºber informiert. 
- **Kontext√§nderungen nur durch explizite Benutzeraktionen erfolgen**, wie z.‚ÄØB. Klicken oder Dr√ºcken der Eingabetaste.
- **Benutzer √ºber bevorstehende Kontext√§nderungen informiert werden**, beispielsweise durch Hinweise oder Beschriftungen.

**Beispiel f√ºr eine korrekte Implementierung:**

Ein Formular enth√§lt ein Dropdown-Men√º zur Auswahl eines Landes. Wenn der Benutzer ein Land ausw√§hlt, erscheinen zus√§tzliche Felder f√ºr die Eingabe von regionsspezifischen Informationen. Vor dem Dropdown-Men√º befindet sich ein Hinweis:

‚ÄûDie Auswahl eines Landes kann zus√§tzliche Felder anzeigen, die f√ºr die Eingabe erforderlich sind.‚Äú

In diesem Beispiel wird der Benutzer vor der Kontext√§nderung informiert, und die √Ñnderung erfolgt als Reaktion auf seine Auswahl.

‚∏ª

‚úÖ **Vorteile**
- **Verbesserte Zug√§nglichkeit**: Benutzer k√∂nnen die Webseite ohne unerwartete Kontext√§nderungen navigieren.
- **Erh√∂hte Benutzerfreundlichkeit**: Vorhersehbares Verhalten der Webseite erleichtert die Bedienung f√ºr alle Benutzer.
- **Konsistenz**: Einheitliches Verhalten von interaktiven Elementen verbessert die Benutzererfahrung.


## BITV Pr√ºfverfahren

### Was wird gepr√ºft?

Eingaben von Nutzenden auf Formularen sollen nicht zu unerwarteten Kontext-√Ñnderungen f√ºhren. Alle Kontext√§nderungen m√ºssen unterhalb des ausl√∂senden Elements geschehen und sollen klar nachvollziehbar sein, der Fokus soll nicht versetzt werden.

### Warum wird das gepr√ºft?

Unerwartete und unangek√ºndigte Kontext√§nderungen bei einer Auswahl in Formularen k√∂nnen die Orientierung von Nutzern beeintr√§chtigen (z.B. die Auswahl einer Checkbox oder ein Radio-Button ruft eine neue Seite auf, eine Auswahlliste ohne Submit-Button reagiert auf `onchange`. Kontext√§nderungen auf der Seite selbst k√∂nnen Nutzende ablenken und verwirren oder auch unbemerkt bleiben und dadurch f√ºr Verwirrung sorgen (pl√∂tzlich sind Inhalte ver√§ndert). Sie sollten deshalb erwartet und klar nachvollziehbar sein.

Wenn Kontext√§nderungen auf der selben Seite nicht **unterhalb** des Elements stattfinden, das sie ausl√∂st, werden sie von blinden Nutzenden h√§ufig nicht wahrgenommen.

### Wie wird gepr√ºft?

### 1\. Anwendbarkeit des Pr√ºfschritts

Der Pr√ºfschritt ist anwendbar, wenn die Seite Formularelemente enth√§lt.

### 2\. Pr√ºfung

1.  Seite im Browser (Chrome oder Firefox) aufrufen.
2.  Formularelemente (Checkboxes, Radio Buttons, Auswahllisten) ausprobieren. Werden unerwartete und nicht angek√ºndigte Kontext√§nderungen erzeugt?
3.  √úberpr√ºfen, ob Inhalts√§nderungen hervorgerufen werden (etwa Einblendungen zus√§tzlicher Formularfelder).
4.  Sind die Inhalts√§nderungen begrenzt und gut nachvollziehbar oder werden **vor** dem ausl√∂senden Element angek√ºndigt bzw. erkl√§rt?
5.  Pr√ºfen, ob Inhalts√§nderungen **unterhalb** des Elements, das sie ausl√∂st, hervorgerufen werden.
6.  Pr√ºfen, ob durch Formulareingaben hervorgerufene Kontext√§nderungen (etwa dynamisch eingeblendete Elemente) den aktuellen Fokus versetzen.

### 3\. Hinweise

Fehlermeldungen, die √ºber die JavaScript-Funktion `alert()` ausgegeben werden, gelten nicht als Pop-Ups im Sinne des Pr√ºfschritts. Sie √∂ffnen sich als Antwort auf Eingaben von Nutzenden und sie sind modal, in Hinblick auf die Orientierung daher unproblematisch.

√Ñnderungen, die √ºber Skripte und _ARIA Live Regions_ vorgenommen werden, etwa die automatische Einblendung von Vorschl√§gen unterhalb des Texteingabefelds einer Such-Funktion, sollen nicht den aktuellen Fokus versetzen.

Zur Abgrenzung von Kontext√§nderungen und Inhalts√§nderungen:

-   Klare Kontext√§nderungen (_changes of context_) sind laut WCAG 2.1 etwa Spr√ºnge zu anderen Seiten und das √ñffnen neuer Fenster, aber auch das dynamische Laden von neuen Inhalten auf der selben Seite, wenn diese Inhalte wie eine neue Seite _wirken_ oder Inhalte in stark ver√§nderter Anordnung erscheinen. Auch das Ausl√∂sen von Sprunglinks zu Ankern auf derselben Seite ist als Kontext√§nderung zu betrachten.
-   Davon abgrenzen muss man blo√üe Inhalts√§nderungen (in den WCAG 2.1: _changes of content_). Diese liegen vor, wenn etwa die Auswahl in einer Auswahlliste (`select`) die Inhalte einer darunter befindlichen Auswahlliste dynamisch aktualisiert (etwa: die Wahl eines Kontinents aktualisiert eine Auswahlliste mit L√§ndern). Auch das Ausklappen zus√§tzlicher Formularbereiche _unterhalb_ des ausl√∂senden Elements kann als Inhalts√§nderung gelten, wenn Fokus und Scrollstatus der Seite unver√§ndert bleiben.

Ob √Ñnderungen _unerwartet_ sind oder nicht, l√§sst sich nur aus dem Gesamtkontext heraus bestimmen.

Vergleiche: WCAG 2.1, Appendix A: Glossary: [changes of context](http://www.w3.org/TR/WCAG20/#context-changedef)

### 4\. Bewertung

#### Nicht voll erf√ºllt

-   Die Interaktion mit Formularelementen f√ºhrt zu unerwarteten und nicht angek√ºndigten Kontext√§nderungen.

#### Nicht erf√ºllt

-   Formulare werden automatisch abgeschickt, wenn der Fokus das Formular verl√§sst.
-   Das √Ñndern des Status einer Checkbox oder eines Radio-Buttons l√∂st automatisch eine unerwartete Kontext√§nderung aus (√∂ffnet etwa ein neues Fenster).

### Einordnung des Pr√ºfschritts

### Abgrenzung von anderen Pr√ºfschritten

Die Verwendung von Submit-Buttons, die in den Techniken [G80](https://www.w3.org/WAI/WCAG21/Techniques/general/G80.html) und [H32](https://www.w3.org/WAI/WCAG21/Techniques/html/H32.html) dem Success Criterion [3.2.2 On Input \[no automatic change of context](https://www.w3.org/TR/WCAG21/#on-input)\] zugeordnet ist, wird nur indirekt im Pr√ºfschritt 9.2.1.1 "Ohne Maus nutzbar" gepr√ºft.

#### Einordnung des Pr√ºfschritts nach WCAG 2.1

#### Guideline

-   [Guideline 3.2 Predictable: Make Web pages appear and operate in predictable ways](https://www.w3.org/TR/WCAG21/#predictable)

#### Success criterion

-   [3.2.2 On Input](https://www.w3.org/TR/WCAG21/#on-input) (Level A)

#### Techniques

##### General Techniques

-   [G80: Providing `a` submit `button` to initiate `a` change of context using `a` technology-specific technique listed below](https://www.w3.org/WAI/WCAG21/Techniques/general/G80.html)  
    _Hinweis:_ Die Technik G80 ist SC 3.2.2 zugeordnet, wird aber nur indirekt gepr√ºft.
-   [G13: Describing what will happen before `a` change to `a` form control that causes `a` change of context to occur is made](https://www.w3.org/WAI/WCAG21/Techniques/general/G13.html)

##### HTML Techniques

-   [H32: Providing submit buttons](https://www.w3.org/WAI/WCAG21/Techniques/html/H32.html)  
    _Hinweis:_ Die Technik H32 ist SC 3.2.2 zugeordnet, wird aber nur indirekt gepr√ºft.
-   [H84: Using `a` `button` with `a` select element to perform an action](https://www.w3.org/WAI/WCAG21/Techniques/html/H84.html)

#### Failures

-   [F36: Failure of Success Criterion 3.2.2 due to automatically submitting `a` form and presenting new content without prior warning when the last field in the form is given `a` value](https://www.w3.org/WAI/WCAG21/Techniques/failures/F36.html)
-   [F37: Failure of Success Criterion 3.2.2 due to launching `a` new window without prior warning when the status of `a` radio `button`, check box or select list is changed](https://www.w3.org/WAI/WCAG21/Techniques/failures/F37.html)
