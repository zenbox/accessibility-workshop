<!DOCTYPE html>

<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ARIA Accessibility Tests</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .container {
      background: white;
      border-radius: 8px;
      padding: 30px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    h1 { color: #333; margin-bottom: 10px; }
    figure { margin-inline: 0; margin-bottom: 20px; }
    .test-section {
      margin: 30px 0;
      padding: 20px;
      background: #f9f9f9;
      border-radius: 4px;
    }
    .aria-examples {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    .aria-component {
      padding: 15px;
      background: white;
      border-radius: 4px;
      border: 2px solid #ddd;
      min-height: 80px;
    }
    figcaption {
      margin-top: 10px;
      padding: 10px;
      background: #f0f0f0;
      border-radius: 4px;
      font-size: 13px;
    }
    code {
      display: block;
      background: #fff;
      padding: 8px;
      border-radius: 3px;
      margin-top: 5px;
      font-size: 11px;
      line-height: 1.5;
      overflow-x: auto;
    }
    button {
      background: #0066cc;
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 16px;
      border-radius: 4px;
      cursor: pointer;
      margin: 10px 10px 10px 0;
    }
    button:hover { background: #0052a3; }
    .custom-button {
      display: inline-block;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
    }
    .alert {
      padding: 12px;
      border-radius: 4px;
      margin: 10px 0;
    }
    .alert-info {
      background: #e3f2fd;
      border-left: 4px solid #2196f3;
    }
    .progress-bar {
      width: 100%;
      height: 20px;
      background: #e0e0e0;
      border-radius: 10px;
      overflow: hidden;
    }
    .progress-fill {
      height: 100%;
      background: #4caf50;
      transition: width 0.3s;
    }
    #results {
      margin-top: 20px;
      padding: 20px;
      background: white;
      border-radius: 4px;
      border-left: 4px solid #0066cc;
    }
    .test-result {
      margin: 15px 0;
      padding: 15px;
      border-radius: 4px;
      border-left: 4px solid;
    }
    .test-result.pass {
      background: #e8f5e9;
      border-left-color: #4caf50;
    }
    .test-result.fail {
      background: #ffebee;
      border-left-color: #f44336;
    }
    .test-result.warning {
      background: #fff3e0;
      border-left-color: #ff9800;
    }
    .test-title {
      font-weight: bold;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .test-details {
      margin-top: 8px;
      font-size: 14px;
      color: #666;
      font-family: monospace;
      white-space: pre-wrap;
    }
    .icon { font-size: 20px; }
    .summary {
      display: flex;
      gap: 20px;
      margin: 20px 0;
      padding: 20px;
      background: #f5f5f5;
      border-radius: 4px;
    }
    .summary-item {
      flex: 1;
      text-align: center;
      padding: 15px;
      background: white;
      border-radius: 4px;
    }
    .summary-number {
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 5px;
    }
    .summary-label {
      color: #666;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>‚ôø ARIA Accessibility Tests</h1>
    <p>Diese Seite testet ARIA-Attribute f√ºr assistive Technologien.</p>


<div>
  <button onclick="runAllTests()">Alle Tests ausf√ºhren</button>
  <button onclick="clearResults()">Ergebnisse l√∂schen</button>
</div>

<div class="test-section">
  <h2>ARIA Roles & Labels</h2>
  <div class="aria-examples">
    
    <figure>
      <div class="aria-component">
        <div role="button" tabindex="0" aria-label="Speichern" class="custom-button" style="background: #4caf50; color: white;">
          üíæ
        </div>
      </div>
      <figcaption>
        <strong>Button-Role mit aria-label</strong><br>
        <code>&lt;div role="button" 
 tabindex="0" 
 aria-label="Speichern">


üíæ
</div></code>
</figcaption>
</figure>


    <figure>
      <div class="aria-component">
        <div tabindex="0" class="custom-button" style="background: #f44336; color: white;">
          Fehlt role
        </div>
      </div>
      <figcaption>
        <strong>Fehlt: role="button"</strong><br>
        <code>&lt;div tabindex="0">


Klick
</div></code>
</figcaption>
</figure>


    <figure>
      <div class="aria-component">
        <nav role="navigation" aria-label="Hauptnavigation">
          <a href="#">Home</a> | <a href="#">Kontakt</a>
        </nav>
      </div>
      <figcaption>
        <strong>Navigation mit Label (gut)</strong><br>
        <code>&lt;nav role="navigation" 
 aria-label="Hauptnavigation">


</nav></code>
</figcaption>
</figure>


    <figure>
      <div class="aria-component">
        <nav>
          <a href="#">Link 1</a> | <a href="#">Link 2</a>
        </nav>
      </div>
      <figcaption>
        <strong>Navigation ohne Label</strong><br>
        <code>&lt;nav>


‚Ä¶
</nav></code>
</figcaption>
</figure>


    <figure>
      <div class="aria-component">
        <div role="alert" class="alert alert-info">
          √Ñnderungen gespeichert!
        </div>
      </div>
      <figcaption>
        <strong>Alert mit role (gut)</strong><br>
        <code>&lt;div role="alert">


√Ñnderungen gespeichert
</div></code>
</figcaption>
</figure>


    <figure>
      <div class="aria-component">
        <div class="alert alert-info">
          Warnung ohne role
        </div>
      </div>
      <figcaption>
        <strong>Alert ohne role</strong><br>
        <code>&lt;div class="alert">


Warnung
</div></code>
</figcaption>
</figure>


  </div>
</div>

<div class="test-section">
  <h2>ARIA States & Properties</h2>
  <div class="aria-examples">

    <figure>
      <div class="aria-component">
        <button aria-expanded="false" aria-controls="menu1">
          Men√º √∂ffnen
        </button>
        <div id="menu1" hidden>Men√º-Inhalt</div>
      </div>
      <figcaption>
        <strong>aria-expanded korrekt</strong><br>
        <code>&lt;button aria-expanded="false" 
    aria-controls="menu1">


Men√º √∂ffnen
</button></code>
</figcaption>
</figure>


    <figure>
      <div class="aria-component">
        <button>Men√º (fehlt aria-expanded)</button>
        <div hidden>Inhalt</div>
      </div>
      <figcaption>
        <strong>Fehlt: aria-expanded</strong><br>
        <code>&lt;button>


Men√º
</button></code>
</figcaption>
</figure>


    <figure>
      <div class="aria-component">
        <span aria-hidden="true">‚≠ê</span>
        <span>Favorit (Text f√ºr SR)</span>
      </div>
      <figcaption>
        <strong>Dekorativer Inhalt versteckt</strong><br>
        <code>&lt;span aria-hidden="true">‚≠ê&lt;/span>


<span>Favorit</span></code>
</figcaption>
</figure>


    <figure>
      <div class="aria-component">
        <div aria-live="polite" aria-atomic="true">
          Status: Laden...
        </div>
      </div>
      <figcaption>
        <strong>Live-Region (gut)</strong><br>
        <code>&lt;div aria-live="polite" 
 aria-atomic="true">


Status: Laden‚Ä¶
</div></code>
</figcaption>
</figure>


    <figure>
      <div class="aria-component">
        <nav>
          <a href="#" aria-current="page" style="font-weight: bold;">Aktuell</a> | 
          <a href="#">Andere</a>
        </nav>
      </div>
      <figcaption>
        <strong>aria-current f√ºr aktive Seite</strong><br>
        <code>&lt;a href="#" 


aria-current=‚Äúpage‚Äù>
Aktuell
</a></code>
</figcaption>
</figure>


    <figure>
      <div class="aria-component">
        <div role="progressbar" 
             aria-valuenow="60" 
             aria-valuemin="0" 
             aria-valuemax="100"
             aria-label="Upload">
          <div class="progress-bar">
            <div class="progress-fill" style="width: 60%"></div>
          </div>
        </div>
      </div>
      <figcaption>
        <strong>Progressbar mit ARIA</strong><br>
        <code>&lt;div role="progressbar" 
 aria-valuenow="60" 
 aria-valuemin="0" 
 aria-valuemax="100">


</div></code>
</figcaption>
</figure>


    <figure>
      <div class="aria-component">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 40%"></div>
        </div>
        <span>40%</span>
      </div>
      <figcaption>
        <strong>Progressbar ohne ARIA</strong><br>
        <code>&lt;div class="progress-bar">


‚Ä¶
</div></code>
</figcaption>
</figure>


    <figure>
      <div class="aria-component">
        <button aria-describedby="help1">?</button>
        <span id="help1" style="font-size: 12px;">Hilfetext</span>
      </div>
      <figcaption>
        <strong>aria-describedby (gut)</strong><br>
        <code>&lt;button aria-describedby="help1">


?
</button>
<span id=‚Äúhelp1‚Äù>Hilfe</span></code>
</figcaption>
</figure>


  </div>
</div>

<div id="results"></div>


  </div>

  <script>
    class AriaAttributeTester {
      constructor() {
        this.results = [];
        this.stats = { total: 0, passed: 0, failed: 0, warnings: 0 };
      }

      addResult(title, status, details = '') {
        this.results.push({ title, status, details });
        this.stats.total++;
        if (status === 'pass') this.stats.passed++;
        else if (status === 'fail') this.stats.failed++;
        else if (status === 'warning') this.stats.warnings++;
      }

      testRoleAttributes() {
        const interactiveElements = document.querySelectorAll('[tabindex]:not(input):not(button):not(a):not(textarea):not(select)');
        const missingRole = [];

        interactiveElements.forEach((el, index) => {
          const role = el.getAttribute('role');
          if (!role) {
            missingRole.push({
              index: index + 1,
              tag: el.tagName.toLowerCase(),
              text: el.textContent.trim().substring(0, 30)
            });
          }
        });

        if (missingRole.length === 0) {
          this.addResult('Alle interaktiven Elemente haben role', 'pass', `${interactiveElements.length} Elemente gepr√ºft`);
        } else {
          const details = missingRole.map(el => `<${el.tag}> #${el.index}: "${el.text}"`).join('\n');
          this.addResult('Interaktive Elemente ohne role', 'fail', `${missingRole.length} Elemente:\n${details}`);
        }
      }

      testAriaLabels() {
        const navElements = document.querySelectorAll('nav[role="navigation"]');
        const missingLabels = [];

        navElements.forEach((nav, index) => {
          if (!nav.hasAttribute('aria-label') && !nav.hasAttribute('aria-labelledby')) {
            missingLabels.push({ index: index + 1, text: nav.textContent.trim().substring(0, 40) });
          }
        });

        if (missingLabels.length === 0) {
          this.addResult('Alle Navigationen haben Labels', 'pass', `${navElements.length} gepr√ºft`);
        } else {
          const details = missingLabels.map(el => `Navigation #${el.index}: "${el.text}..."`).join('\n');
          this.addResult('Navigationen ohne aria-label', 'warning', details);
        }
      }

      testAriaExpanded() {
        const buttons = document.querySelectorAll('button');
        const missingExpanded = [];

        buttons.forEach((button, index) => {
          const text = button.textContent.toLowerCase();
          if ((text.includes('men√º') || text.includes('√∂ffnen')) && !button.hasAttribute('aria-expanded')) {
            missingExpanded.push({ index: index + 1, text: button.textContent.trim() });
          }
        });

        if (missingExpanded.length === 0) {
          this.addResult('Toggle-Buttons haben aria-expanded', 'pass', '');
        } else {
          const details = missingExpanded.map(el => `Button #${el.index}: "${el.text}"`).join('\n');
          this.addResult('Toggle-Buttons ohne aria-expanded', 'warning', details);
        }
      }

      testAriaDescribedBy() {
        const elements = document.querySelectorAll('[aria-describedby]');
        const invalid = [];

        elements.forEach((el, index) => {
          const id = el.getAttribute('aria-describedby');
          if (!document.getElementById(id)) {
            invalid.push({ index: index + 1, id: id, element: el.tagName.toLowerCase() });
          }
        });

        if (invalid.length === 0) {
          this.addResult('Alle aria-describedby sind g√ºltig', 'pass', `${elements.length} gepr√ºft`);
        } else {
          const details = invalid.map(el => `<${el.element}> verweist auf nicht-existierende ID: "${el.id}"`).join('\n');
          this.addResult('Ung√ºltige aria-describedby Referenzen', 'fail', details);
        }
      }

      testAriaHidden() {
        const ariaHidden = document.querySelectorAll('[aria-hidden="true"]');
        const problematic = [];

        ariaHidden.forEach((el, index) => {
          const isFocusable = el.hasAttribute('tabindex') || 
                             ['A', 'BUTTON', 'INPUT', 'TEXTAREA', 'SELECT'].includes(el.tagName);
          if (isFocusable) {
            problematic.push({ index: index + 1, tag: el.tagName.toLowerCase(), text: el.textContent.trim().substring(0, 30) });
          }
        });

        if (problematic.length === 0) {
          this.addResult('aria-hidden korrekt verwendet', 'pass', `${ariaHidden.length} gepr√ºft`);
        } else {
          const details = problematic.map(el => `<${el.tag}> #${el.index}: "${el.text}"`).join('\n');
          this.addResult('Fokussierbare Elemente mit aria-hidden', 'fail', details);
        }
      }

      testProgressbars() {
        const progressbars = document.querySelectorAll('[role="progressbar"]');
        const missing = [];

        progressbars.forEach((pb, index) => {
          const missingAttrs = [];
          if (!pb.hasAttribute('aria-valuenow')) missingAttrs.push('aria-valuenow');
          if (!pb.hasAttribute('aria-valuemin')) missingAttrs.push('aria-valuemin');
          if (!pb.hasAttribute('aria-valuemax')) missingAttrs.push('aria-valuemax');

          if (missingAttrs.length > 0) {
            missing.push({ index: index + 1, missingAttrs });
          }
        });

        if (missing.length === 0) {
          this.addResult('Progressbars vollst√§ndig', 'pass', `${progressbars.length} gepr√ºft`);
        } else {
          const details = missing.map(el => `Progressbar #${el.index} fehlt: ${el.missingAttrs.join(', ')}`).join('\n');
          this.addResult('Progressbars mit fehlenden Attributen', 'fail', details);
        }
      }

      displayResults() {
        const resultsDiv = document.getElementById('results');
        const summaryHTML = `
          <div class="summary">
            <div class="summary-item">
              <div class="summary-number">${this.stats.total}</div>
              <div class="summary-label">Tests</div>
            </div>
            <div class="summary-item" style="color: #4caf50;">
              <div class="summary-number">${this.stats.passed}</div>
              <div class="summary-label">Bestanden</div>
            </div>
            <div class="summary-item" style="color: #f44336;">
              <div class="summary-number">${this.stats.failed}</div>
              <div class="summary-label">Fehlgeschlagen</div>
            </div>
            <div class="summary-item" style="color: #ff9800;">
              <div class="summary-number">${this.stats.warnings}</div>
              <div class="summary-label">Warnungen</div>
            </div>
          </div>
        `;
        const resultsHTML = this.results.map(result => {
          const icon = result.status === 'pass' ? '‚úì' : result.status === 'fail' ? '‚úó' : '‚ö†';
          return `
            <div class="test-result ${result.status}">
              <div class="test-title">
                <span class="icon">${icon}</span>
                ${result.title}
              </div>
              ${result.details ? `<div class="test-details">${result.details}</div>` : ''}
            </div>
          `;
        }).join('');

        resultsDiv.innerHTML = `<h2>Test-Ergebnisse</h2>${summaryHTML}${resultsHTML}`;
      }

      runAll() {
        this.results = [];
        this.stats = { total: 0, passed: 0, failed: 0, warnings: 0 };
        this.testRoleAttributes();
        this.testAriaLabels();
        this.testAriaExpanded();
        this.testAriaDescribedBy();
        this.testAriaHidden();
        this.testProgressbars();
        this.displayResults();
      }
    }

    function runAllTests() {
      const tester = new AriaAttributeTester();
      tester.runAll();
    }

    function clearResults() {
      document.getElementById('results').innerHTML = '';
    }

    window.addEventListener('load', runAllTests);
  </script>

</body>
</html>